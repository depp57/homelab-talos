apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: authentik-secret
spec:
  refreshInterval: 24h
  secretStoreRef:
    name: bitwarden-secretsmanager
    kind: ClusterSecretStore
  target:
    name: argocd-secret
    creationPolicy: Merge # Merges data fields into the existing Secret created by Argocd
    deletionPolicy: Merge
  data:
    - remoteRef:
        key: 865b5889-3188-4de8-9d27-b35f010714f1
      secretKey: dex.authentik.clientId
    - remoteRef:
        key: 00f34476-c47a-497d-84c3-b35f01072451
      secretKey: dex.authentik.clientSecret